{"name":"HidKviz","master":true,"version":"0.0.1","description":"","schemas":{"f16b321e8101cc3b":{"_id":"f16b321e8101cc3b","_name":"team","_inherit":["_Component"],"name":"property","alias":"property"},"p1381e152ae1569c":{"_id":"p1381e152ae1569c","_name":"game","_inherit":["_Component"],"date":"property","name":"property","teams":"method"},"c197441bd2f1ef62":{"_id":"c197441bd2f1ef62","_name":"user","_inherit":["_Component"],"name":"property","teams":"collection"}},"models":{"y1969f1bce311f78":{"_id":"y1969f1bce311f78","_name":"team","_description":"","name":{"description":"","type":"string","readOnly":false,"mandatory":false,"default":""},"alias":{"description":"","type":"string","readOnly":false,"mandatory":false,"default":""}},"p152a71ec4918183":{"_id":"p152a71ec4918183","_name":"game","_description":"","date":{"description":"","type":"string","readOnly":false,"mandatory":false,"default":""},"name":{"description":"","type":"string","readOnly":false,"mandatory":false,"default":""},"teams":{"description":"","params":[{"description":"","name":"param","type":"any","mandatory":false,"default":{}}],"result":"object"}},"t13db01de5113927":{"_id":"t13db01de5113927","_name":"user","_description":"","name":{"description":"","type":"any","readOnly":false,"mandatory":false,"default":""},"teams":{"description":"","type":["_Component"],"readOnly":false,"mandatory":false,"default":[]}}},"behaviors":{"n16ecb15e9210dd3":{"_id":"n16ecb15e9210dd3","component":"j1d50819fbf1f1c8","state":"start","action":"function start() { \n  let logger = null,\n      game = null,\n      teams = null,\n      active = null;\n  \n  logger = this.require('logger');\n  game = this.require('game00000001');\n  \n  logger.info(game.name());\n  logger.info(game.date());\n  logger.info(game.teams());\n  \n  \n  var allteams = '',\n      self = this;\n/*\n  function _checkActive(value, ix, array) {\n    let key = Object.keys(value)[0];\n    let val = Object.values(value)[0];\n    //allteams += keys[0] + vals[0] + ' ';\n\n    if (val) {\n      let team = this.require(key);\n      allteams += team.name + ' ' + val + ' ';\n      return true;\n    }\n\n  }\n*/\n  active = game.teams().filter(function (value, ix, array) {\n    let key = Object.keys(value)[0];\n    let val = Object.values(value)[0];\n    if (val) {\n      //allteams += key + val;\n\n      let team = this.require(key);\n      allteams += team.name() + ' ' + val+ ' '; // lemaradt a ()!\n      return true;\n    }\n  \n  }, this);\n  logger.info(active.length);\n  logger.info(allteams);\n}","useCoreAPI":false,"core":false},"f155c81df461de4c":{"_id":"f155c81df461de4c","component":"game","state":"teams","action":"function teams(param) {\n  let result = [{\"yellobello\":true},{\"all_them_witches\":true}]\n  return result;\n}","useCoreAPI":false,"core":false}},"types":{},"components":{"game":{"game00000001":{"_id":"game00000001","date":"2018-06-26","name":"ppilot-kviz"}},"team":{"all_them_witches":{"_id":"all_them_witches","name":"All Them Witches","alias":""},"yellobello":{"_id":"yellobello","name":"YelloBello","alias":""}}},"_id":"j1d50819fbf1f1c8"}